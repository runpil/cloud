# 가상화기술의 개념(하이퍼바이저, 전가상화/반가상화)

## 하이퍼바이저 기반 가상화의 특징
### 가상화 관련 기본 개념
- 하이퍼바이저
    - 호스트시스템에서 다수의 게스트 OS를 돌리기 위한 플랫폼
- 호스트 OS
    - 물리시스템(컴퓨터)에 설치된 OS
- 게스트 OS
    - 가상머신/컨테이너 위에 설치된 OS
    
### 하이퍼바이저 유형
- 타입 1
    - 하이퍼바이저가 하드웨어 위에서 바로 실행
- 타입 2
    - 호스트 OS 위에 하피어바이저를 실행시키는 방식    

### 하이퍼바이저기반 가상화의 특징
- 시스템가상화로 인해 다양한 게스트 OS를 실행할 수 있음
    - 윈도우/리눅스/OSX/NAS/...
- 물리시스템과 게스트 OS 간의 가상화 기능으로 인한 성능 저하
    - 약 10~15% 정도의 오버헤드
    - 호스트 OS와 게스트 OS 간의 기능중복(스케쥴링 등)
---

## 전가상화와 반가상화
### 전가상화(Full Virtualization)
- 하드웨어를 완전히 가상화
- OS의 제약 없이 사용할 수 있음
- 게스트 OS는 자신이 가상머신 위에서 동작하고 있다는 것 인식 불가
- 시스템에서 물리적인 가상화 지원기능 필요(인텔 VT-x, AMD-v)
- 게스트 OS에서 물리자원 직접 접근 불가
    - 반드시 하이퍼바이저를 통해서 접근해야 함 -> 성능저하
### 반가상화(Para Virtualizaiton)
- 게스트 OS가 자신이 가상머신 위에서 동작하고 있다는 것을 인식
- OS 제약이 있음
    - OS의 제약, 커널을 수정해야 함(주로 리눅스만 됨)
- 게스트 OS에서 물리자원 직접 접근 가능(Passthrough) -> 성능개선        
---

## 하이퍼바이저의 종류
- VMware
    - 대표적인 상용 하이퍼바이저
    - ESXi(type 1)/Workstation(type 2)/WorkStation player
- MS Hyper-V
    - 윈도우서버에 통합
- Ctrix Xen(오픈소스)
    - 최초의 반가상화 하이퍼바이저
    - 오픈소스
- KVM(오픈소스)
    - 하이퍼바이저를 커널의 '서브모듈'로 제공(.ko)
    - 메모리관리자/파일시스템/하이퍼바이저
- 패러렐즈(Parallels)
    - OSX기반의 하이퍼바이저
- 오라클 버추얼박스(Oracle VirtualBox)
    - 오라클(구 썬마이크로시스템즈)에서 만든 GPL기반의 하이퍼바이저

                